app.widget.directive('page', function() {
  return {
    // TODO: detect HTML4 / HTML5
    restrict: 'E',
    replace: true,
    templateUrl: '<%= asset_path "html4/_book.page.html"  %>',
    scope: {
      data: '=placeholder'
    },
    controller: function($scope) {
      $scope.isSelected = function(flag) {
        return flag ? " selected" : "";
      };
      $scope.thumbUp = function() {
//      Article.thumbUp($scope.data.id)        
      };
      $scope.thumbDown = function() {
//      Article.thumbDown($scope.data.id)        
      };
      $scope.subscribe = function(type) {
      };
      $scope.block = function() {
      };
      $scope.bookmark = function() {
      };
      $scope.share = function() {
      };
    },
    compile: function(element, attr) {
      var $element = $(element);
      $element.addClass("page");
      $element.width($element.width() / 2);
      $element.height($element.parent().height());
      $element.css("float", "left");
      $element.css("position", "absolute");
      $element.css("overflow", "hidden");
    }
  }
});
